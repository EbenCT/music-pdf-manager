<!-- TEMPLATE DEL M√ìDULO MUSICAL INSTRUCTIVO -->
<!-- Este archivo se carga din√°micamente cuando se activa el m√≥dulo -->

<div class="module-header">
    <h2>üéº M√≥dulo Musical Instructivo</h2>
    <p>Visualizaci√≥n de acordes con transposici√≥n en tiempo real</p>
</div>

<!-- Panel de estado -->
<div id="musical-status" class="musical-status hidden">
    <div class="status-content">
        <div class="status-icon">üéµ</div>
        <div class="status-info">
            <h3 id="musical-status-title">Procesando archivo musical...</h3>
            <p id="musical-status-message">Extrayendo texto y detectando acordes</p>
        </div>
    </div>
</div>

<div class="musical-grid">
    <!-- Panel izquierdo: Lista de archivos instrumentos -->
    <div class="musical-panel">
        <div class="panel-header">
            <h3>üé∏ Archivos de Instrumentos</h3>
            <!-- ‚≠ê BOT√ìN SEGURO: Sin onclick, usando data-action -->
            <button class="btn secondary small" data-action="refresh-files">
                üîÑ Actualizar
            </button>
        </div>
        
        <!-- Buscador espec√≠fico para musical -->
        <div class="search-container-musical">
            <input type="text" id="musical-search-input" 
                   placeholder="üîç Buscar archivos de acordes..." 
                   class="search-input-musical">
        </div>
        
        <div class="file-list musical-file-list" id="musical-file-list">
            <div class="loading">
                <div class="spinner"></div>
                Cargando archivos de instrumentos...
            </div>
        </div>
    </div>

    <!-- Panel derecho: Visor de contenido musical -->
    <div class="musical-viewer-panel">
        <div class="musical-viewer-header">
            <div class="file-info">
                <h3 id="current-file-title">Selecciona un archivo de acordes</h3>
                <div class="musical-meta">
                    <span id="chord-count">0 acordes detectados</span>
                    <span id="current-key">Tonalidad: --</span>
                    <span id="transposition-info">Sin transposici√≥n</span>
                </div>
            </div>
            
            <!-- Panel de transposici√≥n -->
            <div id="transposition-panel" class="transposition-panel">
                <div class="transposition-title">
                    <h4>üéµ Transposici√≥n</h4>
                    <!-- ‚≠ê BOT√ìN SEGURO: Sin onclick, usando data-action -->
                    <button class="btn secondary small" data-action="open-config">
                        ‚öôÔ∏è Config
                    </button>
                </div>
                
                <div class="transposition-controls">
                    <!-- ‚≠ê BOTONES SEGUROS: Sin onclick, usando data-action -->
                    <button class="transpose-btn" data-action="transpose" data-semitones="1">
                        <span class="transpose-symbol">+1</span>
                        <span class="transpose-label">tono</span>
                    </button>
                    <button class="transpose-btn" data-action="transpose" data-semitones="0.5">
                        <span class="transpose-symbol">+¬Ω</span>
                        <span class="transpose-label">semitono</span>
                    </button>
                    
                    <div class="current-transposition">
                        <span class="transposition-value" id="current-transposition">0</span>
                        <span class="transposition-unit">semitonos</span>
                    </div>
                    
                    <button class="transpose-btn" data-action="transpose" data-semitones="-0.5">
                        <span class="transpose-symbol">-¬Ω</span>
                        <span class="transpose-label">semitono</span>
                    </button>
                    <button class="transpose-btn" data-action="transpose" data-semitones="-1">
                        <span class="transpose-symbol">-1</span>
                        <span class="transpose-label">tono</span>
                    </button>
                    
                    <!-- ‚≠ê BOT√ìN RESET SEGURO -->
                    <button class="transpose-btn" data-action="reset-transposition" style="background: var(--accent-red-light); margin-left: var(--spacing-md);">
                        <span class="transpose-symbol">‚Üª</span>
                        <span class="transpose-label">reset</span>
                    </button>
                </div>
                
                <div class="transposition-info">
                    <div class="key-info">
                        <span>Original: <strong id="original-key">--</strong></span>
                        <span>Actual: <strong id="transposed-key">--</strong></span>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="musical-content" class="musical-content">
            <div class="placeholder">
                <div class="placeholder-icon">üéº</div>
                <p>Selecciona un archivo de instrumentos para ver los acordes</p>
                <div class="musical-features">
                    <div class="feature-item">
                        <span class="feature-icon">üéØ</span>
                        <span>Detecci√≥n autom√°tica de acordes</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üéµ</span>
                        <span>Transposici√≥n en tiempo real</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üé®</span>
                        <span>Resaltado de acordes</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de configuraci√≥n musical -->
<div id="musical-config-modal" class="loading-overlay">
    <div class="loading-spinner config-content">
        <div class="config-header">
            <h3>‚öôÔ∏è Configuraci√≥n Musical</h3>
            <!-- ‚≠ê BOT√ìN SEGURO: Sin onclick -->
            <button class="control-btn" data-action="close-config">‚úï</button>
        </div>
        
        <div class="config-sections">
            <div class="config-section">
                <h4>üéØ Detecci√≥n de Acordes</h4>
                <label>
                    <input type="checkbox" id="detect-complex-chords" checked>
                    Detectar acordes complejos (7th, sus, add, etc.)
                </label>
                <label>
                    <input type="checkbox" id="highlight-bass-notes" checked>
                    Resaltar notas de bajo (Am/E)
                </label>
            </div>
            
            <div class="config-section">
                <h4>üé® Visualizaci√≥n</h4>
                <label>
                    Estilo de acordes:
                    <select id="chord-style">
                        <option value="bold-red">Negrita Roja</option>
                        <option value="bold-blue">Negrita Azul</option>
                        <option value="highlight">Resaltado</option>
                        <option value="custom">Personalizado</option>
                    </select>
                </label>
                <label>
                    Tama√±o de fuente:
                    <input type="range" id="font-size" min="12" max="24" value="16">
                    <span id="font-size-value">16px</span>
                </label>
            </div>
        </div>
        
        <div class="config-actions">
            <!-- ‚≠ê BOTONES SEGUROS: Sin onclick -->
            <button class="btn secondary" data-action="reset-config">
                üîÑ Restaurar
            </button>
            <button class="btn" data-action="apply-config">
                ‚úÖ Aplicar
            </button>
        </div>
    </div>
</div>